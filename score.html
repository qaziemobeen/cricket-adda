<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cricket Adda - Tournament Setup</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: linear-gradient(to right, #e0f7fa, #ffffff);
      animation: fadeIn 1s ease-in;
    }
    header, footer {
      background: #1e90ff;
      color: white;
      text-align: center;
      padding: 1rem;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    .main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 2rem;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      animation: slideIn 0.8s ease-out;
    }
    label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: block;
    }
    input, button {
      padding: 0.6rem;
      margin-bottom: 1rem;
      width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      background: #1e90ff;
      color: white;
      border: none;
      transition: all 0.3s ease;
    }
    button:hover {
      background: #0d6efd;
      transform: scale(1.03);
    }
    .team-list {
      margin-top: 1rem;
    }
    .team-list div {
      background: #f1f9ff;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border-radius: 5px;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideIn {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <header>
    <h1>üèè Cricket Adda - Tournament Setup</h1>
  </header>
  <div class="main">
    <label for="tournamentName">Tournament Name:</label>
    <input type="text" id="tournamentName" placeholder="Enter Tournament Name" oninput="updateTournamentName()" />

    <label for="totalTeams">Total Teams:</label>
    <input type="number" id="totalTeams" value="4" min="1" oninput="updateTeams()" />

    <label for="playersPerTeam">Players per Team:</label>
    <input type="number" id="playersPerTeam" value="11" min="1" oninput="updatePlayers()" />

    <div class="team-list" id="teamList"></div>

    <button onclick="saveTournament()">Generate Schedule</button>

    <!-- This is where tournament details will be displayed -->
    <div id="savedTournamentDetails"></div>
  </div>
  <footer>
    <p>&copy; 2025 Cricket Adda</p>
  </footer>
  <script>
    let teams = [];
    let teamPlayers = {};
    let tournamentName = '';

    // Update Tournament Name
    function updateTournamentName() {
      tournamentName = document.getElementById("tournamentName").value.trim();
    }

    // Update teams based on the number of total teams
    function updateTeams() {
      const totalTeams = parseInt(document.getElementById("totalTeams").value);
      teams = [];
      teamPlayers = {};

      for (let i = 1; i <= totalTeams; i++) {
        const teamName = `Team ${String.fromCharCode(64 + i)}`;
        teams.push(teamName);
        teamPlayers[teamName] = [];
      }

      renderTeams();
    }

    // Update players per team
    function updatePlayers() {
      const playersPerTeam = parseInt(document.getElementById("playersPerTeam").value);

      // Update each team with the required number of players
      teams.forEach((team) => {
        while (teamPlayers[team].length < playersPerTeam) {
          teamPlayers[team].push('');
        }
        while (teamPlayers[team].length > playersPerTeam) {
          teamPlayers[team].pop();
        }
      });

      renderTeams();
    }

    // Render teams and their players
    function renderTeams() {
      const teamList = document.getElementById("teamList");
      teamList.innerHTML = '';
      
      teams.forEach((team, index) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <strong>Team ${String.fromCharCode(65 + index)}: </strong>
          <input type="text" id="teamName_${team}" value="${team}" oninput="editTeamName('${team}')">
          
          <div>
            <label>Players:</label>
            <div id="players_${team}">
              ${teamPlayers[team].map((player, i) => `
                <div>
                  <input type="text" value="${player}" 
                         oninput="editPlayer('${team}', ${i}, this.value)" 
                         placeholder="Enter Player Name ${i + 1}">
                </div>
              `).join('')}
            </div>
          </div>
        `;
        teamList.appendChild(div);
      });
    }

    // Edit Team Name
    function editTeamName(oldTeamName) {
      const newTeamName = document.getElementById(`teamName_${oldTeamName}`).value;
      const index = teams.indexOf(oldTeamName);
      if (index !== -1) {
        teams[index] = newTeamName;
        teamPlayers[newTeamName] = teamPlayers[oldTeamName];
        delete teamPlayers[oldTeamName];
        renderTeams();
      }
    }

    // Edit Player Name
    function editPlayer(team, index, playerName) {
      teamPlayers[team][index] = playerName;
    }

    // Save tournament data
    function saveTournament() {
      const data = {
        name: tournamentName,
        totalTeams: teams.length,
        playersPerTeam: parseInt(document.getElementById("playersPerTeam").value),
        teams,
        teamPlayers
      };

      // Save to localStorage
      localStorage.setItem("cricketAddaTournament", JSON.stringify(data));

      // Display the saved data in a readable format on the page
      const savedData = JSON.parse(localStorage.getItem("cricketAddaTournament"));
      const displayData = `
        <h3>Tournament Details:</h3>
        <p><strong>Tournament Name:</strong> ${savedData.name}</p>
        <p><strong>Total Teams:</strong> ${savedData.totalTeams}</p>
        <p><strong>Players per Team:</strong> ${savedData.playersPerTeam}</p>
        <h4>Teams:</h4>
        ${savedData.teams.map(team => `
          <p>Team: ${team}</p>
          <ul>
            ${savedData.teamPlayers[team].map(player => `<li>${player}</li>`).join('')}
          </ul>
        `).join('')}
      `;
      document.getElementById("savedTournamentDetails").innerHTML = displayData;

      // Redirect to scoring page (if needed)
      // window.location.href = "score.html";
    }

    // Initialize with default values
    updateTeams();
  </script>
</body>
</html>
